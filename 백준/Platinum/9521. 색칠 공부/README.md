# [Platinum III] 색칠 공부 - 9521 

[문제 링크](https://www.acmicpc.net/problem/9521) 

### 성능 요약

메모리: 170792 KB, 시간: 1496 ms

### 분류

수학, 다이나믹 프로그래밍, 그래프 이론, 그래프 탐색, 조합론

### 제출 일자

2026년 1월 29일 23:03:56

### 문제 설명

<p>상근이는 시간이 날 때마다 색칠 공부를 하고 있다. 상근이는 총 K개의 색이 담겨있는 팔레트를 가지고 있고, 붓을 이용해 색칠을 한다. 상근이의 친구 선영이는 상근이의 생일 선물로 색칠 공부 책을 선물했다. 책에는 그림이 총 N개 있으며, 1번부터 N번까지 번호가 붙여져 있다.</p>

<p>상근이는 각각의 그림을 K가지 색 중 하나를 골라 색칠하려고 한다. 선영이는 화려한 것을 좋아하기 때문에 상근이에게 숫자 N개 f<sub>i</sub>를 정해주었다. 상근이는 i번 그림을 f<sub>i</sub>번 그림과 다른 색으로 색칠해야 한다. i가 f<sub>i</sub>와 같은 경우에 아무런 제한없이 i번 그림을 색칠할 수 있다.</p>

<p>N과 K, 그리고 f<sub>i</sub>가 모두 주어졌을 때, 상근이가 색칠 공부 책을 색칠하는 방법의 수를 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 N과 K가 주어진다. (1 ≤ N, K ≤ 1,000,000) 둘째 줄에는 숫자 N개 f<sub>i</sub>가 주어진다. (1 ≤ f<sub>i</sub> ≤ N)</p>

### 출력 

 <p>첫째 줄에 색칠 공부 책을 색칠하는 방법의 수를 출력한다. 방법의 수가 매우 많기 때문에 1,000,000,007로 나눈 나머지를 출력한다. </p>

